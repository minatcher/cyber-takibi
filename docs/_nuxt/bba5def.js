(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(52),n(13),n(83),n(53),n(25),n(60),{initWeather:function(t,e){return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&lang=en&appid=023a905ab1d794b1cd2d23d7eb39e4e7"));case 3:return o=n.sent,n.next=6,o.json();case 6:return c=n.sent,n.abrupt("return",new Promise((function(t){if(c){var e={sunrise:c.sys.sunrise,sunset:c.sys.sunset,rain:"rain"in c?c.rain["1h"]:0,clouds:c.clouds.all,windSpeed:c.wind.speed,windDeg:c.wind.deg,snow:"snow"in c?c.snow["1h"]:0,temp:Math.round(c.main.temp-273.15),city:c.name,text:c.weather[0].description};window.console.log("apply current weather",e),r("setValues",e)}t(!0)})));case 8:case"end":return n.stop()}}),n)})))()},defineWeather:function(t,e){var n=t.commit;return new Promise((function(t){window.console.log("apply defined weather",e),n("setValues",e),t(!0)}))}});e.default={namespaced:!0,state:function(){return{current:{sunrise:6,sunset:18,rain:0,clouds:0,windSpeed:0,windDeg:0,snow:0,temp:15,city:"undefined",text:"(ramdomly set)"}}},getters:{getValues:function(t){return t.current}},mutations:{setValues:function(t,e){t.current=e}},actions:o}},154:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l})),n.d(e,"GetResult",(function(){return d}));n(63),n(53),n(68),n(54),n(38),n(25),n(60),n(72),n(44);var r=n(10);n(52),n(13),n(312),n(314),n(321),n(323),n(324),n(325),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(348),n(349),n(350);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),window.console.log(t.t0,"disable microphone");case 10:return t.abrupt("return",new Promise((function(t){if(null===e)t(e);else try{var n=new AudioContext,r=n.createMediaStreamSource(e),o=n.createAnalyser();o.fftSize=128,o.smoothingTimeConstant=.1,r.connect(o),t([o,new Uint8Array(o.frequencyBinCount),e])}catch(t){window.console.log(t)}})));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function d(t){if(t){t[0].getByteFrequencyData(t[1]);var e,n=0,r=o(t[1]);try{for(r.s();!(e=r.n()).done;){n+=e.value}}catch(t){r.e(t)}finally{r.f()}return n/t[1].length}return null}},155:function(t,e,n){"use strict";var r=n(0),o=n(18);r.b.use({install:function(t,e){t.prototype.$THREE=o}})},156:function(t,e,n){"use strict";var r=n(0),o=n(20),c=n(150);r.b.use(o.a),r.b.prototype.$store=new o.a.Store({modules:{weather:c.default}})},157:function(t,e,n){"use strict";var r=n(0),o=n(230),c=n.n(o);r.b.use(c.a)},205:function(t,e,n){var content=n(301);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("f72d7894",content,!0,{sourceMap:!1})},206:function(t,e,n){var content=n(303);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("3d4f558a",content,!0,{sourceMap:!1})},208:function(t,e,n){var content=n(310);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("62540763",content,!0,{sourceMap:!1})},215:function(t,e,n){var content=n(352);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("766db660",content,!0,{sourceMap:!1})},227:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var r=n(45),o=n(46),c=(n(304),n(207),function(){function t(canvas,e){Object(r.a)(this,t),this.cnv=canvas,this.weather=e,this.init()}return Object(o.a)(t,[{key:"init",value:function(){this.cnv.width=window.innerWidth,this.cnv.height=window.innerHeight,this.ctx=this.cnv.getContext("2d"),this.grad=this.ctx.createLinearGradient(0,0,0,this.cnv.height),this.grad.addColorStop(0,"#ffffff"),this.grad.addColorStop(.75,"#fffbee"),this.grad.addColorStop(1,"#ffe599"),this.ctx.shadowColor="#ffffff",this.skyImg=new Image,this.skyImg.src=n(308),this.vertR=.6*Math.min(this.cnv.height,this.cnv.width),this.horitR=.7*Math.max(this.cnv.height,this.cnv.width),this.arcX=this.cnv.width/2,this.arcY=this.vertR+100;var t=new Date(1e3*this.weather.sunrise),e=new Date(1e3*this.weather.sunset);this.sunrise=t.getHours()+"."+Math.round(1.66*t.getMinutes()),this.sunset=e.getHours()+"."+Math.round(1.66*e.getMinutes()),this.clock=0,this.time=null,this.horit=null,this.vert=null}},{key:"calcPosition",value:function(){this.time=(this.clock-this.sunrise)/(this.sunset-this.sunrise);var t=Math.PI/5*6+Math.PI/5*4*this.time;this.horit=this.arcX+this.horitR*Math.cos(t),this.vert=this.arcY+this.vertR*Math.sin(t)}},{key:"generateSky",value:function(){var t=Math.max(0,Math.min(1,this.time));this.ctx.clearRect(0,0,this.cnv.width,this.cnv.height),this.ctx.drawImage(this.skyImg,this.skyImg.width*t+120*(t<.5?1:-1)*24/(this.sunset-this.sunrise),0,3,this.skyImg.height,0,0,this.cnv.width,this.cnv.height)}},{key:"generateSun",value:function(){this.ctx.fillStyle=this.grad,this.ctx.shadowBlur=50,this.ctx.beginPath(),this.ctx.moveTo(this.horit,this.vert),this.ctx.arc(this.horit,this.vert,40,0,2*Math.PI),this.ctx.fill()}},{key:"run",value:function(){var t=this;this.skyImg.onload=function(){var e=new Date;t.clock=Number(e.getHours()+"."+Math.round(1.66*e.getMinutes())),t.calcPosition(),t.generateSky(),t.vert<t.cnv.height/2&&t.weather.clouds<50&&(window.console.log(t.vert,t.horit),t.generateSun())}}},{key:"runDemo",value:function(t){this.clock+=t,this.clock>23.59&&(this.clock=0),this.calcPosition(),this.generateSky(),this.vert<this.cnv.height/2&&this.generateSun(),requestAnimationFrame(this.runDemo.bind(this,t))}}]),t}())},228:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(45),o=n(46),c=n(18),l=function(){function t(e){Object(r.a)(this,t),this.clock=null,this.init(e)}return Object(o.a)(t,[{key:"init",value:function(t){this.camera=new c.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.001,1e3),this.camera.position.z=2,this.scene=new c.Scene,this.renderer=new c.WebGLRenderer({alpha:!0,canvas:t}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.clock=new c.Clock}},{key:"addScene",value:function(t){this.scene.add(t.mesh)}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),t}()},229:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var r=n(45),o=n(46),c=function(){function t(e,n,o){Object(r.a)(this,t),this.rain=e,this.elFront=n,this.elBack=o,this.init()}return Object(o.a)(t,[{key:"init",value:function(){this.num=Math.min(Math.round(window.innerWidth/200*this.rain),100),this.fragFront=document.createDocumentFragment(),this.fragBack=document.createDocumentFragment();for(var i=0;i<this.num;i++)this.createElm();this.elFront.appendChild(this.fragFront),this.elBack.appendChild(this.fragBack)}},{key:"createElm",value:function(){var t=document.createElement("div"),e=document.createElement("div");t.className=e.className="drop",t.style.left="".concat(this.getRndVal(99,0),"%"),e.style.right="".concat(this.getRndVal(99,0),"%"),t.style.bottom=e.style.bottom="".concat(this.getRndVal(100,110),"%");var n=document.createElement("div");n.className="stem",t.style.animationDelay=e.style.animationDelay=n.style.animationDelay="0.".concat(this.getRndVal(99,50),"s"),t.style.animationDuration=e.style.animationDuration=n.style.animationDuration="0.".concat(this.getRndVal(70,50),"s"),t.appendChild(n),e.appendChild(n),this.fragFront.appendChild(t),this.fragBack.appendChild(e)}},{key:"getRndVal",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}}]),t}()},232:function(t,e,n){"use strict";var r=n(17),o=n(10),c=(n(52),n(13),n(44),n(35),n(25),n(34),n(47),n(30),n(48),n(20));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{render:!1,values:{sunrise:1674942215,sunset:1674979419,rain:9,clouds:70,windSpeed:.5,windDeg:0,snow:0,temp:15,city:"undefined",text:"(ramdomly set)"},toggleSound:!1,toggleMic:!1,mic:!1,deg:0}},beforeMount:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPosition();case 2:if(null===(n=e.sent)){e.next=9;break}return e.next=6,t.initWeather(n.coords);case 6:t.render=e.sent,e.next=13;break;case 9:return t.setRndVal(),e.next=12,t.defineWeather(t.values);case 12:t.render=e.sent;case 13:window.console.log("default");case 14:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.render=!1},methods:h(h({},Object(c.b)("weather",["initWeather","defineWeather"])),{},{setRndVal:function(){this.values.rain=Math.round(this.generateRndVal(0,8)),this.values.rain<=4?(this.values.rain=0,this.values.clouds=Math.round(this.generateRndVal(0,50))):this.values.clouds=Math.round(this.generateRndVal(50,100)),this.values.windSpeed=Math.round(this.generateRndVal(0,700))/100,this.values.windDeg=Math.round(this.generateRndVal(0,360))},getPosition:function(){return new Promise((function(t){navigator.geolocation.getCurrentPosition(t,(function(e){window.console.log(e),t(null)}))}))},generateRndVal:function(t,e){return Math.random()*(e-t+1)+t}})},f=(n(300),n(27)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"main"}},[e("EnterPage"),t._v(" "),t.render?e("div",{attrs:{id:"render"}},[e("Background"),t._v(" "),e("Artwork",{attrs:{"sound-toggle":t.toggleSound,"mic-toggle":t.toggleMic},on:{"update:soundToggle":function(e){t.toggleSound=e},"update:sound-toggle":function(e){t.toggleSound=e},"update:micToggle":function(e){t.toggleMic=e},"update:mic-toggle":function(e){t.toggleMic=e},micAccess:function(e){t.mic=e},distortDeg:function(e){t.deg=e}}}),t._v(" "),e("Effects",{attrs:{"sound-toggle":t.toggleSound,"distort-angle":t.deg},on:{"update:soundToggle":function(e){t.toggleSound=e},"update:sound-toggle":function(e){t.toggleSound=e},"update:distortAngle":function(e){t.deg=e},"update:distort-angle":function(e){t.deg=e}}}),t._v(" "),e("nuxt"),t._v(" "),e("div",{staticClass:"control-btns"},[e("div",{staticClass:"toggleButton"},[e("p",[t._v("Sound Play")]),t._v(" "),e("toggle-button",{attrs:{color:{ckecked:"rgba(255, 255, 255, 0.8)",unchecked:"rgba(255, 255, 255, 0.4)"},width:44,height:20},model:{value:t.toggleSound,callback:function(e){t.toggleSound=e},expression:"toggleSound"}})],1),t._v(" "),e("div",{staticClass:"toggleButton",style:{opacity:t.mic?1:.3}},[t._m(0),t._v(" "),e("toggle-button",{attrs:{color:{ckecked:"rgba(255, 255, 255, 0.8)",unchecked:"rgba(255, 255, 255, 0.4)"},width:44,height:20},model:{value:t.toggleMic,callback:function(e){t.toggleMic=e},expression:"toggleMic"}})],1),t._v(" "),t.mic?t._e():e("p",{staticClass:"alert"},[t._v("\n        Interactive Mode requires permission to access microphone.\n      ")])])],1):t._e()],1)}),[function(){var t=this,e=t._self._c;return e("p",[t._v("Interactive Mode"),e("br"),t._v("(microphone inputs)")])}],!1,null,"1cc2fb1f",null);e.a=component.exports;installComponents(component,{EnterPage:n(373).default,Background:n(374).default,Artwork:n(372).default,Effects:n(371).default})},234:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(45),o=n(46),c=n(18),l=function(){function t(e,n){Object(r.a)(this,t),this.mesh=null,this.init(e,n)}return Object(o.a)(t,[{key:"init",value:function(t,e){var r=new c.TextureLoader;r.crossOrigin="";var o={fireTex:{type:"t",value:r.load(n(311))},color:{type:"c",value:new c.Color(15658734)},time:{type:"f",value:0},seed:{type:"f",value:19.19*Math.random()},invModelMatrix:{type:"m4",value:new c.Matrix4},scale:{type:"v3",value:new c.Vector3(1,1,1)},noiseScale:{type:"v4",value:new c.Vector4(1,2,1,.4)},magnitude:{type:"f",value:1.3},lacunarity:{type:"f",value:2},gain:{type:"f",value:.5}},l=new c.ShaderMaterial({defines:{ITERATIONS:"20",OCTIVES:"3"},uniforms:o,vertexShader:"varying vec3 vWorldPos;\r\nvoid main() {\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  vWorldPos = (modelMatrix * vec4(position, 1.0)).xyz;\r\n}",fragmentShader:"uniform vec3 color;\r\nuniform float time;\r\nuniform float seed;\r\nuniform mat4 invModelMatrix;\r\nuniform vec3 scale;\r\n\r\nuniform vec4 noiseScale;\r\nuniform float magnitude;\r\nuniform float lacunarity;\r\nuniform float gain;\r\n\r\nuniform sampler2D fireTex;\r\n\r\nvarying vec3 vWorldPos;\r\n\r\n// GLSL simplex noise function by ashima / https://github.com/ashima/webgl-noise/blob/master/src/noise3D.glsl\r\n// -------- simplex noise\r\nvec3 mod289(vec3 x) {\r\nreturn x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 mod289(vec4 x) {\r\nreturn x - floor(x * (1.0 / 289.0)) * 289.0;\r\n}\r\n\r\nvec4 permute(vec4 x) {\r\nreturn mod289(((x * 34.0) + 1.0) * x);\r\n}\r\n\r\nvec4 taylorInvSqrt(vec4 r) {\r\nreturn 1.79284291400159 - 0.85373472095314 * r;\r\n}\r\n\r\nfloat snoise(vec3 v) {\r\nconst vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);\r\nconst vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\r\n\r\n  // First corner\r\nvec3 i  = floor(v + dot(v, C.yyy));\r\nvec3 x0 = v - i + dot(i, C.xxx);\r\n\r\n  // Other corners\r\nvec3 g = step(x0.yzx, x0.xyz);\r\nvec3 l = 1.0 - g;\r\nvec3 i1 = min(g.xyz, l.zxy);\r\nvec3 i2 = max(g.xyz, l.zxy);\r\n\r\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\r\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\r\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\r\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\r\nvec3 x1 = x0 - i1 + C.xxx;\r\nvec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\r\nvec3 x3 = x0 - D.yyy; // -1.0+3.0*C.x = -0.5 = -D.y\r\n\r\n  // Permutations\r\ni = mod289(i); \r\nvec4 p = permute(permute(permute( \r\ni.z + vec4(0.0, i1.z, i2.z, 1.0))\r\n+ i.y + vec4(0.0, i1.y, i2.y, 1.0)) \r\n+ i.x + vec4(0.0, i1.x, i2.x, 1.0));\r\n\r\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\r\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\r\nfloat n_ = 0.142857142857; // 1.0/7.0\r\nvec3  ns = n_ * D.wyz - D.xzx;\r\n\r\nvec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,7*7)\r\n\r\nvec4 x_ = floor(j * ns.z);\r\nvec4 y_ = floor(j - 7.0 * x_); // mod(j,N)\r\n\r\nvec4 x = x_ * ns.x + ns.yyyy;\r\nvec4 y = y_ * ns.x + ns.yyyy;\r\nvec4 h = 1.0 - abs(x) - abs(y);\r\n\r\nvec4 b0 = vec4(x.xy, y.xy);\r\nvec4 b1 = vec4(x.zw, y.zw);\r\n\r\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\r\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\r\nvec4 s0 = floor(b0) * 2.0 + 1.0;\r\nvec4 s1 = floor(b1) * 2.0 + 1.0;\r\nvec4 sh = -step(h, vec4(0.0));\r\n\r\nvec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;\r\nvec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;\r\n\r\nvec3 p0 = vec3(a0.xy, h.x);\r\nvec3 p1 = vec3(a0.zw, h.y);\r\nvec3 p2 = vec3(a1.xy, h.z);\r\nvec3 p3 = vec3(a1.zw, h.w);\r\n\r\n  //Normalise gradients\r\nvec4 norm = taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\r\np0 *= norm.x;\r\np1 *= norm.y;\r\np2 *= norm.z;\r\np3 *= norm.w;\r\n\r\n  // Mix final noise value\r\nvec4 m = max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);\r\nm = m * m;\r\nreturn 42.0 * dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3)));\r\n}\r\n  // simplex noise --------\r\n\r\nfloat turbulence(vec3 p) {\r\nfloat sum = 0.0;\r\nfloat freq = 1.0;\r\nfloat amp = 1.0;\r\n\r\nfor(int i = 0; i < OCTIVES; i++) {\r\nsum += abs(snoise(p * freq)) * amp;\r\nfreq *= lacunarity;\r\namp *= gain;\r\n}\r\n\r\nreturn sum;\r\n}\r\n\r\nvec4 samplerFire (vec3 p, vec4 scale) {\r\nvec2 st = vec2(sqrt(dot(p.xz, p.xz)), p.y);\r\n\r\nif(st.x <= 0.0 || st.x >= 1.0 || st.y <= 0.0 || st.y >= 1.0) return vec4(0.0);\r\n\r\np.y -= (seed + time) * scale.w;\r\np *= scale.xyz;\r\n\r\nst.y += sqrt(st.y) * magnitude * turbulence(p);\r\n\r\nif(st.y <= 0.0 || st.y >= 1.0) return vec4(0.0);\r\n\r\nreturn texture2D(fireTex, st);\r\n}\r\n\r\nvec3 localize(vec3 p) {\r\nreturn (invModelMatrix * vec4(p, 1.0)).xyz;\r\n}\r\n\r\nvoid main() {\r\nvec3 rayPos = vWorldPos;\r\nvec3 rayDir = normalize(rayPos - cameraPosition);\r\nfloat rayLen = 0.0288 * length(scale.xyz);\r\n\r\nvec4 col = vec4(0.0);\r\n\r\nfor(int i = 0; i < ITERATIONS; i++) {\r\nrayPos += rayDir * rayLen;\r\n\r\nvec3 lp = localize(rayPos);\r\n\r\nlp.y += 0.5;\r\nlp.xz *= (1.3 + gain);\r\nlp.xy *= (0.7 + gain / 2.0);\r\ncol += samplerFire(lp, noiseScale);\r\n}\r\n\r\ncol.a = col.r;\r\n\r\ngl_FragColor = col;\r\n}",transparent:!0,opacity:.8,depthWrite:!1,depthTest:!1}),h=o.fireTex;if(h.magFilter=h.minFilter=c.LinearFilter,h.wrapS=h.wrapT=c.ClampToEdgeWrapping,l.uniforms.noiseScale.value=t.noiseScale,l.uniforms.magnitude.value=t.magnitude,l.uniforms.gain.value=t.gain,this.mesh=new c.Mesh(new c.BoxGeometry(1,1,1),l),this.mesh.position.set(0,.15,1),window.innerWidth<=e){var d=1-Math.pow(window.innerWidth/e,3);this.mesh.scale.set(d,d,d)}}},{key:"update",value:function(t,e){var n=this.mesh.material.uniforms.invModelMatrix.value;this.mesh.updateMatrixWorld(!0),n.copy(this.mesh.matrixWorld).invert(),void 0!==t&&(this.mesh.material.uniforms.time.value=t.getElapsedTime()),void 0!==e&&(this.mesh.material.uniforms.magnitude.value=e.magnitude,this.mesh.material.uniforms.gain.value=e.gain,this.mesh.material.uniforms.noiseScale.value=e.noiseScale),this.mesh.material.uniforms.invModelMatrix.value=n,this.mesh.material.uniforms.scale.value=this.mesh.scale}}]),t}()},237:function(t,e,n){n(238),t.exports=n(239)},298:function(t,e,n){var content=n(299);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("709e561f",content,!0,{sourceMap:!1})},299:function(t,e,n){var r=n(61)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400&display=swap);"]),r.push([t.i,'body{margin:0;background-color:#000;overscroll-behavior:none;overflow:hidden;color:#fff;font-family:"Roboto Mono",monospace;font-weight:400;letter-spacing:.05rem}.rain{display:block;position:absolute;top:0;left:-5vw;width:110vw;height:100vh}.rain .front_row{z-index:2}.rain .back_row,.rain .front_row{position:absolute;width:100%;height:100%}.rain .back_row{z-index:3;bottom:60px;opacity:.5}.rain .drop{position:absolute;width:15px;height:120px;pointer-events:none;animation:drop .5s linear infinite}.rain .drop .stem{position:absolute;width:2px;height:60%;margin-left:7px;background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));animation:stem .5s linear infinite}@keyframes drop{0%{transform:translateY(0)}to{transform:translateY(100vh)}}@keyframes stem{0%{opacity:1}65%{opacity:1}85%{opacity:.7}to{opacity:0}}',""]),t.exports=r},300:function(t,e,n){"use strict";n(205)},301:function(t,e,n){var r=n(61)(!1);r.push([t.i,"#main[data-v-1cc2fb1f]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}#main #render[data-v-1cc2fb1f]{position:absolute;width:100%;height:100%;left:0;top:0;z-index:2}#main #render .control-btns[data-v-1cc2fb1f]{position:absolute;bottom:30px;right:3vw}#main #render .control-btns .toggleButton[data-v-1cc2fb1f]{display:flex;margin:10px 0;flex-direction:row;justify-content:right;align-items:center}#main #render .control-btns .toggleButton p[data-v-1cc2fb1f]{margin:0 15px;font-size:11px;text-align:right;line-height:150%}#main #render .control-btns .alert[data-v-1cc2fb1f]{margin:0;font-size:10px;text-align:right;color:#dc143c}",""]),t.exports=r},302:function(t,e,n){"use strict";n(206)},303:function(t,e,n){var r=n(61)(!1);r.push([t.i,"#introduction[data-v-fc099cde]{width:85%;max-width:680px;line-height:200%;z-index:1}#introduction h2[data-v-fc099cde]{text-align:center}",""]),t.exports=r},308:function(t,e,n){t.exports=n.p+"img/bg-sun-01.6d89555.png"},309:function(t,e,n){"use strict";n(208)},310:function(t,e,n){var r=n(61)(!1);r.push([t.i,"#bg_img[data-v-8a876fc6]{left:50%;-o-object-fit:fill;object-fit:fill;transform:translateX(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}#bg_img[data-v-8a876fc6],.sky[data-v-8a876fc6]{position:absolute;width:100%;height:100%}.sky[data-v-8a876fc6]{display:block;mix-blend-mode:multiply}",""]),t.exports=r},311:function(t,e,n){t.exports=n.p+"img/Fire.d56e72e.png"},351:function(t,e,n){"use strict";n(215)},352:function(t,e,n){var r=n(61)(!1);r.push([t.i,".artwork[data-v-7af967a3]{width:100vw;height:100vh;transition:all .4s}.artwork__canvas[data-v-7af967a3]{position:absolute;left:50%;top:50%;width:100vw;height:auto;transform:translate(-50%,-50%);opacity:.95}",""]),t.exports=r},371:function(t,e,n){"use strict";n.r(e);n(35),n(25),n(34),n(13),n(47),n(30),n(48);var r=n(17),o=(n(207),n(20)),c=n(229),l=n.p+"assets/sounds/wind.mp3",h=n.p+"assets/sounds/rain.mp3";function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={name:"EffectsIndex",props:{soundToggle:{type:Boolean,default:!1},distortAngle:{type:Number,default:0}},data:function(){return{width:void 0,minWidth:600,resizeRange:250,windSound:null,maxWindVolume:1,rainSound:null}},computed:{switchWindSound:function(){return 0!==this.distortAngle&&this.soundToggle?this.windSound.play():this.windSound.pause(),window.console.log(this.windSound.paused),this.windSound.paused},switchRainSound:function(){return this.soundToggle?this.rainSound.play():this.rainSound.pause(),window.console.log(this.rainSound.paused),this.rainSound.paused}},watch:{distortAngle:function(){this.windSoundState=this.switchWindSound,this.windSoundState?this.windSound.currentTime=0:this.windSound.volume=this.maxWindVolume*(Math.abs(this.distortAngle)/45)},soundToggle:function(){this.weather.rain>1&&(this.rainSoundState=this.switchRainSound)}},beforeMount:function(){this.width=window.innerWidth,window.console.log("effect")},mounted:function(){this.weather=this.getValues(),this.windSound=new Audio(l),this.windSound.loop=!0,this.maxWindVolume=Math.min(.1*this.weather.windSpeed,1),this.weather.rain>1&&(this.effect=new c.default(this.weather.rain,this.$refs.front,this.$refs.back),this.rainSound=new Audio(h),this.rainSound.loop=!0,this.rainSound.volume=Math.min(.05*this.weather.rain,.5))},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)("weather",["getValues"]))},m=f,v=n(27),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"rain",style:{transform:"skewX(".concat(t.distortAngle,"deg)"),maxWidth:t.width+t.resizeRange+"px",minWidth:t.width-t.resizeRange+"px"}},[e("div",{ref:"front",staticClass:"front_row"}),t._v(" "),e("div",{ref:"back",staticClass:"back_row"})])}),[],!1,null,"769ba954",null);e.default=component.exports},372:function(t,e,n){"use strict";n.r(e);n(83),n(35),n(25),n(34),n(13),n(47),n(30),n(48);var r=n(10),o=n(17),c=(n(52),n(20)),l=n(228),h=n(234),d=n(154),f=n.p+"assets/sounds/bonfire.mp3";function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"ArtworkIndex",props:{soundToggle:{type:Boolean,default:!1},micToggle:{type:Boolean,default:!1}},data:function(){return{width:void 0,height:void 0,minWidth:600,resizeRange:250,weather:null,uniforms:{noiseScale:null,magnitude:1.14,gain:.7},distortDeg:{val:0,current:0,max:0,delta:0,distX:0},initThree:null,fire:null,audioAnalyze:null,audioData:0,fireSound:null}},computed:{switchSound:function(){return this.soundToggle?this.fireSound.play():this.fireSound.pause(),window.console.log(this.fireSound.paused),this.fireSound.paused},switchMic:function(){return null===this.audioAnalyze?this.micToggle?this.setAudioData():this.setDefaultVal():(this.audioAnalyze[2].getAudioTracks()[0].enabled=this.micToggle,this.micToggle||this.setDefaultVal()),window.console.log("toggle mic",this.micToggle),this.micToggle}},watch:{audioData:function(t,e){t&&(t>=8&&t<20&&t-e>4?(window.console.log("audio",t),this.uniforms.gain=Math.min(1-.036*t,this.uniforms.gain),this.uniforms.noiseScale.x=Math.max(.085*t,this.uniforms.noiseScale.x),this.uniforms.noiseScale.y=Math.max(.085*t,this.uniforms.noiseScale.y),this.setSoundVolume()):t<3&&Math.abs(t-e)<.01&&(this.uniforms.gain=Math.min(this.uniforms.gain+.005,.95),this.uniforms.noiseScale.x=Math.max(this.uniforms.noiseScale.x-.008,.6),this.uniforms.noiseScale.y=Math.max(this.uniforms.noiseScale.y-.008,.6),this.setSoundVolume()))}},beforeMount:function(){window.console.log("artwork"),this.width=window.innerWidth,this.height=window.innerHeight,this.fireSound=new Audio(f),this.fireSound.loop=!0,this.fireSound.volume=.7},mounted:function(){var t=this;this.setAudioData(),this.weather=this.getValues(),this.init(),this.loop(),addEventListener("devicechange",(function(e){t.setAudioData()}))},methods:v(v({},Object(c.c)("weather",["getValues"])),{},{init:function(){this.uniforms.noiseScale=new this.$THREE.Vector4(.9,1.6,1,.4),this.setDefaultVal(),this.distortDeg.max=Math.min(-3*Math.sin(this.weather.windDeg)*this.weather.windSpeed,45),window.console.log("max canvas distortion: ",this.distortDeg.max),this.initThree=new l.default(this.$refs.canvas),this.fire=new h.default(this.uniforms,this.minWidth),this.initThree.addScene(this.fire)},loop:function(){this.applyWind(),this.mic=this.switchMic,this.audioData=Object(d.GetResult)(this.audioAnalyze),this.fire.update(this.initThree.clock,this.uniforms),this.initThree.render(),this.state=this.switchSound,requestAnimationFrame(this.loop)},setDefaultVal:function(){this.uniforms.noiseScale.x=1.14-(this.weather.rain>=2?.04*this.weather.rain:0),this.uniforms.noiseScale.y=1.14-(this.weather.rain>=2?.04*this.weather.rain:0),this.uniforms.gain=.7+(this.weather.rain>=2?.025*this.weather.rain:0)},setSoundVolume:function(){this.uniforms.gain<.4?this.fireSound.volume=1:this.uniforms.gain<.7?this.fireSound.volume=.65:this.fireSound.volume=.3,window.console.log("volume",this.fireSound.volume)},setAudioData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.default)();case 2:t.audioAnalyze=e.sent,t.audioAnalyze&&t.$emit("micAccess",!0);case 4:case"end":return e.stop()}}),e)})))()},applyWind:function(){if(0===this.distortDeg.delta){var t=Math.round(400*Math.random()+1);1===t&&this.distortDeg.val<this.distortDeg.max/2?this.distortDeg.delta=.1:1===t&&(this.distortDeg.delta=-.1)}else{var e=this.distortDeg.val+this.distortDeg.delta;this.distortDeg.max<0&&(e<this.distortDeg.max||e>0)||this.distortDeg.max>0&&(e>this.distortDeg.max||e<0)?this.distortDeg.delta=0:(this.distortDeg.current!==Math.round(e)&&(this.distortDeg.current=Math.round(e),this.distortDeg.distX=this.height/2*Math.tan(this.distortDeg.current*(Math.PI/180)),this.$emit("distortDeg",-this.distortDeg.current)),this.distortDeg.val=e)}}})},y=(n(351),n(27)),component=Object(y.a)(w,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"artwork",style:{transform:"skewX(".concat(t.distortDeg.current,"deg) translateX(").concat(-t.distortDeg.distX,"px)")}},[e("canvas",{ref:"canvas",staticClass:"artwork__canvas",style:{maxWidth:t.width+t.resizeRange+"px",minWidth:t.width-t.resizeRange+"px"}})])}),[],!1,null,"7af967a3",null);e.default=component.exports},373:function(t,e,n){"use strict";n.r(e);var r={name:"EnterPage"},o=(n(302),n(27)),component=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"introduction"}},[e("h2",[t._v("Bonfire App")]),t._v(" "),e("p",[t._v("\n    This app uses weather information, so please set your location access\n    permissions to get started.\n  ")]),t._v(" "),e("p",[t._v("If you deny access, the weather information is set randomly.")]),t._v(" "),e("p",[t._v("\n    If you also allow microphone input, you will enjoy an Interactive Mode\n    that lets you control the scale of the bonfire.\n  ")])])}],!1,null,"fc099cde",null);e.default=component.exports},374:function(t,e,n){"use strict";n.r(e);n(35),n(25),n(34),n(13),n(47),n(30),n(48);var r=n(17),o=n(20),c=n(227);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={name:"BackgroundIndex",data:function(){return{width:void 0,minWidth:600,resizeRange:250,brightness:"brightness(80%)"}},beforeMount:function(){window.console.log("background"),this.width=window.innerWidth},mounted:function(){this.weather=this.getValues(),window.console.log(this.weather),this.weather.clouds>50&&(this.brightness="brightness(".concat(130-this.weather.clouds,"%)")),this.sky=new c.default(this.$refs.cnv,this.weather),this.sky.run()},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)("weather",["getValues"]))},d=h,f=(n(309),n(27)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("section",[e("img",{style:{filter:t.brightness,maxWidth:t.width+t.resizeRange+"px",minWidth:t.width-t.resizeRange+"px"},attrs:{id:"bg_img",src:"https://images.unsplash.com/photo-1589411407928-2c3398d3e80c"}}),t._v(" "),e("canvas",{ref:"cnv",staticClass:"sky"})])}),[],!1,null,"8a876fc6",null);e.default=component.exports}},[[237,4,1,5]]]);